---
layout: post
title: "F#: очень красивый пример с использованием DirectX"
date: 2009-04-12 11:13:00
categories: ru
tags: [.NET, F#]
permalink: ru/blog/show/136
---
<p>Итак, F# - это новый язык в линейке .NET, язык функционального программирования. Сошников Д.В. на <a href="http://platforma2009.ru/materials/showitem.aspx?MID=77110d82-f458-4231-a6ba-441b0dac6478">platforma2009</a> в конце доклада показывает очень интересный и красивый пример использования F#, строя графики функций (зависящих и от времени!) и запуская по поверхностям графиков катающиеся шарики. </p>    <p><a href="/library/images/01/0000012.jpeg"><img width="640" height="436" border="0" alt="" src="/library/images/01/0000012.jpeg" /></a></p>    <p>Пример этот можно взять <a href="http://cs.hubfs.net/forums/thread/95.aspx">тут</a>, единственное, что нужно немного подшливовать его под текущую версию F# CTP 1.9.6.2</p>    <p><strong>1.</strong> <span style="color: rgb(153, 51, 0);">#I @&quot;C:\WINDOWS\Microsoft.NET\Managed DirectX\v9.02.2904&quot; ;;</span> нужно заменить на установленную вашу версию DirecX (SDK), у меня она лежала в <span style="color: rgb(153, 51, 0);">#I @&quot;C:\Windows\Microsoft.NET\DirectX for Managed Code\1.0.2902.0&quot;;;</span> (у вас, думаю, будет лежать примерно там же, единственное - разница версий - последние цифры)</p>    <p><strong>2.</strong> Добавить reference на сборки:</p>    <p><span style="color: rgb(153, 51, 0);">#r &quot;FSharp.PowerPack.dll&quot; ;;</p>    <p>#r &quot;FSharp.Core.dll&quot; ;;</span></p>    <p><strong>3.</strong> Заменяйтие</p>    <p><span style="color: rgb(153, 51, 0);">open Idioms</p>    <p>open Compatibility&nbsp; </p>    <p>open List</span></p>    <p>на </p>    <p><span style="color: rgb(153, 51, 0);">open Microsoft.FSharp.Collections.List</span></p>    <p><strong>4. </strong>В строке 285 мне пришлось в функции <span style="color: rgb(153, 51, 0);">let meshGet mesh (i,j) = let X,Y = mesh in X.(i,j), Y.(i,j)</span> добавить параметризацию и стало выглядить так <span style="color: rgb(153, 51, 0);">let meshGet mesh (i,j) = let (X : float[,],Y : float[,]) = mesh in X.[i,j], Y.[i,j]</span></p>    <p><strong>5.</strong> На строке 307 опять убираем <span style="color: rgb(153, 51, 0);">open Idioms</span> и <span style="color: rgb(153, 51, 0);">open List</span></p>    <p><strong>6</strong>. На строке 334 меняем <span style="color: rgb(153, 51, 0);">let (doDrawScene,drawScene) : event = IEvent.create()</span> на<span style="color: rgb(153, 51, 0);"> let (doDrawScene,drawScene) : event&lt;time&gt; = IEvent.create()</span> (об этом в принципе написано на форуме - откуда брали пример)</p>    <p></p>    <p><em>Вот и все, запускайте пример (он сделан для запуска в F# Interactive).</em></p>      <p>Ссылки по теме:</p>
<ul><li><a href="http://blogs.msdn.com/sos/archive/tags/F_2300_Lessons/default.aspx">Раздел в блоге Сошникова Д.В. F# Lessons</a> (там можно узнать и как установить F#)</li><li><a href="http://msdn.microsoft.com/ru-ru/magazine/cc164244.aspx">Первое знакомство с F#. Использование приемов функционального программирования в .NET Framework</a></li><li><a href="http://platforma2009.ru/materials/showitem.aspx?MID=77110d82-f458-4231-a6ba-441b0dac6478">F#: новый язык программирования на платформе .NET. Нужно ли программисту изучать функциональное программирование?</a></li><li><a href="http://msdn.microsoft.com/en-us/fsharp/default.aspx">Microsoft F# Developer Center </a></li></ul>
